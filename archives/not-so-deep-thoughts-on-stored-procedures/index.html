<!DOCTYPE html>
<html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><title>opgenorth.net</title></head>
<body>

<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Not So Deep Thoughts on Stored Procedures</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2007-04-26T00:00:00Z">2007-04-26</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/Programming/" rel="category">Programming</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Lately I've come to the conclusion that stored procedures are more of a specialist's tool than a generalist.&#160; To me, stored procedures are the kind of thing you use when you need to optimize your data access, or you have to do something DB specific.&#160; Sure, I've seen lots (and written lots) of stored procedures to do the basic CRUD (mostly in <a href="http://www.microsoft.com/sql">SQL Server</a>, but also in <a href="http://www.postgresql.org">PostgreSQL</a>). These days though, I almost think that one doesn't need stored procedures for the basic CRUD, only for specific and special cases.</p>  <p><em>Right Tool for the Right Job</em>    <br />My logic for this is pretty simple: OR/M tools are pretty good these days.&#160; I'm going to single out <a href="http://www.nhibernate.org">NHibernate</a> in this case, as that is what I've got the most familiarization with.&#160; They way I see it, <a href="http://www.nhibernate.org">NHibernate</a> will do as good a job with the basic CRUD stuff as I will rolling my own stored procedures.&#160; Factor in a code generation tool like <a href="http://www.mygenerationsoftware.com">MyGeneration</a>, and you're getting a DAL out the door pretty fast.</p>  <p><em>Separation of Concerns</em>    <br />With the CRUD neatly rolled up into an <a href="http://www.nhibernate.org">NHibernate </a>DAL, one can then keep business logic where it belongs:&#160; in code (specifically a business tier) and not in the database.&#160; One of the pitfalls with stored procedures is that sometimes business logic leaks into them.&#160; If you ask me, business logic doesn't belong in your database.</p>  <p><em>Maintainability</em>    <br />Need to debug a stored procedure?&#160; That usually isn't as fun or as easy as debugging code.&#160; This is doubly so if you've got a good battery of unit tests to back your code.&#160; Many times I've run into a situation when a change to a stored procedure requires re-compiling the application and updating the database.&#160; I find that it's nice when you can remove one of those steps.</p> <em></em>  <p><em>Specialization</em>    <br />As a consultant, over the past few year, I've had to work with a variety of RDBMS's:&#160; <a href="http://www.microsoft.com">SQL Server</a>, <a href="http://www.oracle.com">Oracle</a>, <a href="http://www.mysql.com">MySQL</a>, <a href="http://www.postgresql.org">PostgreSQL</a>, and Microsoft Access (Jet) to name a few.&#160; Each of those, if they do happen to have facilities for stored procedures, has their own way of doing so.&#160; A tool like <a href="http://www.nhibernate.org">NHibernate</a> relieves me from learning the intricacies of all these databases.&#160; I can send my time concentrating on things like architecture, business rules, and user interface knowing that <a href="http://www.nhibernate.org">NHibernate</a> has my back for my DAL.&#160; </p>  <p>I'd be curious to hear what others think.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/.NET/" rel="tag">.NET</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/archives/converting-between-vb-net-and-c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Converting between VB.NET and C#</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/archives/trying-to-mock-the-unmockable/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Trying to Mock the Unmockable</p>
		</a>
	</div>
</nav>





</body>
</html>
